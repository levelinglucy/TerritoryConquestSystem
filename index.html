<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Territory Conquest System</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      margin: 0;
      padding: 0;
      background: linear-gradient(to right, #1f2f46, #2d3e50);
      background-attachment: fixed;
      background-size: cover;
      background-repeat: no-repeat;
      color: #ffffff;
      text-align: center;
      overflow-x: hidden;
    }
    header {
      background-color: rgba(20, 37, 56, 0.85);
      padding: 20px;
    }
    header img {
      max-width: 100%;
      height: auto;
    }
    h1 {
      margin-top: 20px;
      font-size: 2.4em;
      opacity: 0;
      transform: translateY(-20px);
      animation: fadeSlideIn 1.2s ease-out forwards;
    }
    @keyframes fadeSlideIn {
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    p {
      font-size: 1.1em;
      max-width: 800px;
      margin: 10px auto 30px;
    }
    .button {
      display: inline-block;
      background: #28a745;
      color: white;
      padding: 12px 24px;
      text-decoration: none;
      font-size: 1.1em;
      border-radius: 6px;
      transition: all 0.3s ease;
      box-shadow: 0 0 10px rgba(40, 167, 69, 0.4);
      margin: 10px;
    }
    .button:hover {
      background: #218838;
      transform: scale(1.05);
      box-shadow: 0 0 20px rgba(40, 167, 69, 0.7);
    }
    .button:active {
      transform: scale(0.98);
    }
    .volume-control {
      margin-top: 20px;
    }
    footer {
      margin-top: 40px;
      font-size: 0.9em;
      color: #aaa;
    }
    #trailerModal {
      display: none;
      position: fixed;
      z-index: 1000;
      left: 0; top: 0; right: 0; bottom: 0;
      background-color: rgba(0, 0, 0, 0.8);
      justify-content: center;
      align-items: center;
    }
    #trailerModal iframe {
      width: 90%;
      max-width: 720px;
      height: 400px;
      border: none;
    }
    #trailerModal .close {
      position: absolute;
      top: 20px;
      right: 30px;
      font-size: 30px;
      color: white;
      cursor: pointer;
    }
  </style>
</head>
<body>

  <header>
    <img src="banner.png" alt="Territory Conquest System Banner">
  </header>

  <main>
    <h1>Welcome to the Territory Conquest System</h1>
    <p>A fully modular strategy game framework for Roblox Studio.  
    Includes troop placement, dynamic territories, resource management, base building, weather systems, lore triggers, and more.</p>

    <a href="https://github.com/LevelingLucy/TerritoryConquestSystem" class="button" id="deployButton">View Project on GitHub</a>
    
    <button class="button" onclick="alert('“There is a war beyond borders, and memory is the only battlefield they cannot burn.”')">Hidden Lore</button>

    <div class="volume-control">
      <label for="volumeSlider">Music Volume:</label>
      <input type="range" id="volumeSlider" min="0" max="1" step="0.01" value="0.5">
      <button id="muteToggle">Mute</button>
    </div>

    <audio id="hoverSound" preload="auto">
      <source src="https://upload.wikimedia.org/wikipedia/commons/3/3b/Beep-sound.mp3" type="audio/mpeg">
    </audio>
    <audio id="clickSound" preload="auto">
      <source src="https://upload.wikimedia.org/wikipedia/commons/b/b8/Buttonclick.mp3" type="audio/mpeg">
    </audio>
    <audio id="loadSound" preload="auto" autoplay>
      <source src="https://upload.wikimedia.org/wikipedia/commons/4/45/Notification_bell.wav" type="audio/mpeg">
    </audio>
    <audio id="bgMusic" autoplay loop>
      <source src="https://upload.wikimedia.org/wikipedia/commons/f/fc/Bensound-clearday.mp3" type="audio/mpeg">
    </audio>
  </main>

  <footer>
    <p>Built with love by <strong>LevelingLucy</strong> & guided by Noe (ChatGPT-4o)</p>
  </footer>

  
    <iframe src="https://www.youtube.com/embed/dQw4w9WgXcQ" allowfullscreen></iframe>
  </div>

  <script>
    const button = document.getElementById("deployButton");
    const hoverSound = document.getElementById("hoverSound");
    const clickSound = document.getElementById("clickSound");
    const bgMusic = document.getElementById("bgMusic");
    const volumeSlider = document.getElementById("volumeSlider");
    const muteToggle = document.getElementById("muteToggle");

    button.addEventListener("mouseenter", () => {
      hoverSound.currentTime = 0;
      hoverSound.play();
    });

    button.addEventListener("click", () => {
      clickSound.currentTime = 0;
      clickSound.play();
    });

    volumeSlider.addEventListener("input", () => {
      bgMusic.volume = volumeSlider.value;
    });

    muteToggle.addEventListener("click", () => {
      bgMusic.muted = !bgMusic.muted;
      muteToggle.textContent = bgMusic.muted ? "Unmute" : "Mute";
    });

    bgMusic.volume = 0.5;
  </script>


<style>
  .footer-sprite {
    position: fixed;
    bottom: 10px;
    left: 10px;
    height: 48px;
    animation: march 3s linear infinite alternate;
    z-index: 10;
  }

  @keyframes march {
    0%   { transform: translateX(0); }
    100% { transform: translateX(20px); }
  }
</style>

<img src="https://upload.wikimedia.org/wikipedia/commons/f/f3/Pixel_art_soldier_walking.gif" alt="Infantry Sprite" class="footer-sprite">


<style>
  .footer-unit {
    position: fixed;
    bottom: 10px;
    height: 48px;
    z-index: 10;
  }

  .infantry { left: 10px; animation: march 3s linear infinite alternate; }
  .tank { left: 80px; animation: rumble 4s ease-in-out infinite alternate; }
  .artillery { left: 150px; animation: pulse 2s ease-in-out infinite; }
  .oilrig { left: 220px; animation: pump 2.5s ease-in-out infinite; }

  @keyframes march {
    0% { transform: translateX(0); }
    100% { transform: translateX(20px); }
  }

  @keyframes rumble {
    0%, 100% { transform: rotate(0deg); }
    50% { transform: rotate(1deg); }
  }

  @keyframes pulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.1); }
  }

  @keyframes pump {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-3px); }
  }
</style>

<img src="https://upload.wikimedia.org/wikipedia/commons/f/f3/Pixel_art_soldier_walking.gif" alt="Infantry" title="Infantry: Fast, low-cost frontline unit" class="footer-unit infantry">
<img src="https://upload.wikimedia.org/wikipedia/commons/e/e7/Pixel_art_tank.gif" alt="Tank" title="Tank: Armored unit for heavy assault" class="footer-unit tank">
<img src="https://upload.wikimedia.org/wikipedia/commons/b/bf/Pixel_art_cannon.gif" alt="Artillery" title="Artillery: Long-range siege support" class="footer-unit artillery">
<img src="https://upload.wikimedia.org/wikipedia/commons/8/81/Pixel_art_oil_pump.gif" alt="Oil Rig" title="Oil Rig: Generates resources over time" class="footer-unit oilrig">


<audio id="infantryHover" preload="auto">
  <source src="https://upload.wikimedia.org/wikipedia/commons/e/e6/Click2.ogg" type="audio/ogg">
</audio>
<audio id="tankHover" preload="auto">
  <source src="https://upload.wikimedia.org/wikipedia/commons/f/f1/Tank_idle_sound.ogg" type="audio/ogg">
</audio>
<audio id="artilleryHover" preload="auto">
  <source src="https://upload.wikimedia.org/wikipedia/commons/f/f8/Cannon.mp3" type="audio/mpeg">
</audio>
<audio id="oilrigHover" preload="auto">
  <source src="https://upload.wikimedia.org/wikipedia/commons/1/1b/Power_plant_hum.ogg" type="audio/ogg">
</audio>

<script>
  function playHoverSound(id) {
    const sound = document.getElementById(id);
    if (sound) {
      sound.currentTime = 0;
      sound.play();
    }
  }

  document.querySelector('.infantry').addEventListener('mouseenter', () => playHoverSound('infantryHover'));
  document.querySelector('.tank').addEventListener('mouseenter', () => playHoverSound('tankHover'));
  document.querySelector('.artillery').addEventListener('mouseenter', () => playHoverSound('artilleryHover'));
  document.querySelector('.oilrig').addEventListener('mouseenter', () => playHoverSound('oilrigHover'));
</script>


<style>
  .unit-bubble {
    position: fixed;
    bottom: 65px;
    font-size: 12px;
    background: rgba(0,0,0,0.6);
    padding: 3px 6px;
    border-radius: 4px;
    color: white;
    pointer-events: none;
    z-index: 9;
    opacity: 0;
    transition: opacity 0.3s ease;
  }

  .infantry-bubble { left: 10px; }
  .tank-bubble { left: 80px; }
  .artillery-bubble { left: 150px; }
  .oilrig-bubble { left: 220px; }

  .footer-unit:active {
    transform: scale(1.2);
    transition: transform 0.2s ease;
  }
</style>

<div class="unit-bubble infantry-bubble">Speed: High<br>Cost: Low</div>
<div class="unit-bubble tank-bubble">Armor: Heavy<br>Cost: Medium</div>
<div class="unit-bubble artillery-bubble">Range: Long<br>Cost: High</div>
<div class="unit-bubble oilrig-bubble">Yield: Steady<br>Cost: None</div>

<script>
  const bubbles = {
    infantry: document.querySelector('.infantry-bubble'),
    tank: document.querySelector('.tank-bubble'),
    artillery: document.querySelector('.artillery-bubble'),
    oilrig: document.querySelector('.oilrig-bubble')
  };

  const units = {
    infantry: document.querySelector('.infantry'),
    tank: document.querySelector('.tank'),
    artillery: document.querySelector('.artillery'),
    oilrig: document.querySelector('.oilrig')
  };

  for (const type in units) {
    const sprite = units[type];
    const bubble = bubbles[type];
    sprite.addEventListener('mouseenter', () => bubble.style.opacity = 1);
    sprite.addEventListener('mouseleave', () => bubble.style.opacity = 0);
    sprite.addEventListener('click', () => {
      sprite.style.transform = 'scale(1.2)';
      setTimeout(() => sprite.style.transform = '', 200);
    });
  }
</script>


<style>
  #unitSidebar {
    position: fixed;
    top: 0;
    right: -300px;
    width: 280px;
    height: 100%;
    background-color: #111c2d;
    color: white;
    padding: 20px;
    box-shadow: -3px 0 10px rgba(0,0,0,0.3);
    transition: right 0.4s ease;
    z-index: 1001;
    overflow-y: auto;
  }

  #unitSidebar.open {
    right: 0;
  }

  #sidebarToggle {
    position: fixed;
    top: 20px;
    right: 10px;
    background-color: #28a745;
    color: white;
    border: none;
    padding: 10px 14px;
    font-size: 14px;
    cursor: pointer;
    border-radius: 4px;
    z-index: 1002;
  }

  #unitSidebar h2 {
    font-size: 20px;
    margin-top: 0;
    border-bottom: 1px solid #2f4c6a;
    padding-bottom: 6px;
  }

  .unit-entry {
    margin-bottom: 15px;
  }

  .unit-entry h3 {
    margin: 5px 0;
    font-size: 16px;
    color: #b0e57c;
  }

  .unit-entry p {
    margin: 0;
    font-size: 13px;
    color: #ccc;
  }
</style>

<button id="sidebarToggle">Units</button>

<div id="unitSidebar">
  <h2>Unit Encyclopedia</h2>

  <div class="unit-entry">
    <h3>Infantry</h3>
    <p>Fast, lightly armored, cheap to deploy.</p>
    <p>Speed: High | Cost: Low | Range: Short</p>
  </div>

  <div class="unit-entry">
    <h3>Tank</h3>
    <p>Heavy armor with decent mobility and solid attack.</p>
    <p>Speed: Medium | Cost: Medium | Range: Medium</p>
  </div>

  <div class="unit-entry">
    <h3>Artillery</h3>
    <p>Stationary unit with long-range firepower.</p>
    <p>Speed: Low | Cost: High | Range: Long</p>
  </div>

  <div class="unit-entry">
    <h3>Oil Rig</h3>
    <p>Generates resources over time. Vulnerable to attack.</p>
    <p>Speed: None | Cost: Free | Yield: Steady</p>
  </div>
</div>

<script>
  const sidebarToggle = document.getElementById("sidebarToggle");
  const sidebar = document.getElementById("unitSidebar");

  sidebarToggle.addEventListener("click", () => {
    sidebar.classList.toggle("open");
  });
</script>


<div class="gist-block">
  <label><strong>Load Preset from Gist URL</strong></label><br>
  <input type="text" id="gistUrl" placeholder="Paste Gist URL here">
  <button onclick="loadFromGist()">Load Preset</button>
</div>

<script>
  async function loadFromGist() {
    const url = document.getElementById('gistUrl').value.trim();
    const output = document.getElementById('presetOutput');

    if (!url.includes("gist.github.com")) {
      alert("Invalid Gist URL.");
      return;
    }

    try {
      const gistId = url.split('/').pop();
      const apiUrl = "https://api.github.com/gists/" + gistId;

      const response = await fetch(apiUrl);
      const data = await response.json();
      const files = data.files;

      const firstKey = Object.keys(files)[0];
      const preset = JSON.parse(files[firstKey].content);

      if (preset.infantrySpeed) {
        document.getElementById('infantryBoost').value = preset.infantrySpeed;
        document.getElementById('infantryBoostValue').textContent = preset.infantrySpeed + 'x';
      }
      if (preset.tankArmor) {
        document.getElementById('tankArmorBoost').value = preset.tankArmor;
        document.getElementById('tankArmorBoostValue').textContent = preset.tankArmor;
      }
      if (preset.artilleryRange) {
        document.getElementById('artilleryRange').value = preset.artilleryRange;
        document.getElementById('artilleryRangeValue').textContent = preset.artilleryRange + ' tiles';
      }

      output.textContent = JSON.stringify(preset, null, 2);
      alert("Preset loaded from Gist!");
    } catch (err) {
      alert("Failed to load preset: " + err.message);
    }
  }
</script>


<div class="gist-block">
  <label><strong>View My Gists</strong></label><br>
  <button onclick="loadMyGists()">Load My Gists</button>
  <ul id="gistList" style="list-style-type:none; padding-left:0; font-size:12px; margin-top:10px;"></ul>
</div>

<script>
  async function deleteGist(gistId, listItem) {
    const token = localStorage.getItem('githubToken');
    if (!token) {
      alert("No GitHub token found.");
      return;
    }

    const confirmDelete = confirm("Are you sure you want to delete this Gist?");
    if (!confirmDelete) return;

    try {
      const response = await fetch("https://api.github.com/gists/" + gistId, {
        method: "DELETE",
        headers: {
          "Authorization": "token " + token
        }
      });

      if (response.status === 204) {
        listItem.remove();
        alert("Gist deleted.");
      } else {
        alert("Failed to delete Gist.");
      }
    } catch (err) {
      alert("Error: " + err.message);
    }
  }

  async function loadMyGists() {
    const token = localStorage.getItem('githubToken');
    if (!token) {
      alert("No GitHub token found.");
      return;
    }

    try {
      const response = await fetch("https://api.github.com/gists", {
        headers: {
          "Authorization": "token " + token
        }
      });

      const gists = await response.json();
      const list = document.getElementById("gistList");
      list.innerHTML = "";

      gists.forEach(gist => {
        const item = document.createElement("li");
        const link = document.createElement("a");
        link.href = gist.html_url;
        link.target = "_blank";
        link.textContent = gist.description || Object.keys(gist.files)[0];

        const deleteBtn = document.createElement("button");
        deleteBtn.textContent = "Delete";
        deleteBtn.style.marginLeft = "8px";
        deleteBtn.style.fontSize = "11px";
        deleteBtn.style.backgroundColor = "#dc3545";
        deleteBtn.style.color = "white";
        deleteBtn.style.border = "none";
        deleteBtn.style.padding = "3px 8px";
        deleteBtn.style.borderRadius = "4px";
        deleteBtn.style.cursor = "pointer";

        deleteBtn.onclick = () => deleteGist(gist.id, item);

        item.appendChild(link);
        item.appendChild(deleteBtn);
        list.appendChild(item);
      });
    } catch (err) {
      alert("Failed to load your Gists: " + err.message);
    }
  }
</script>


<style>
  .qr-block {
    margin-top: 20px;
    padding-top: 15px;
    border-top: 1px solid #2f4c6a;
  }

  .theme-toggle {
    position: fixed;
    bottom: 10px;
    right: 10px;
    background: #666;
    color: white;
    border: none;
    padding: 8px 14px;
    border-radius: 4px;
    cursor: pointer;
    font-size: 12px;
    z-index: 1003;
  }

  #qrcode {
    margin-top: 10px;
  }
</style>

<div class="qr-block">
  <label><strong>Generate QR Code for Gist URL</strong></label><br>
  <input type="text" id="qrInput" placeholder="Paste your Gist URL here">
  <button onclick="generateQRCode()">Generate QR</button>
  <div id="qrcode"></div>
</div>

<button class="theme-toggle" onclick="toggleTheme()">Toggle Theme</button>

<script src="https://cdnjs.cloudflare.com/ajax/libs/qrious/4.0.2/qrious.min.js"></script>
<script>
  const qr = new QRious({ element: document.getElementById('qrcode'), size: 200 });

  function generateQRCode() {
    const input = document.getElementById('qrInput').value.trim();
    if (input) {
      qr.value = input;
    } else {
      alert("Paste a valid URL.");
    }
  }

  function toggleTheme() {
    const isLight = document.body.classList.toggle("light-mode");
    document.body.style.background = isLight
      ? "linear-gradient(to right, #dcdde1, #f0f0f0)"
      : "linear-gradient(to right, #1f2f46, #2d3e50)";
    document.body.style.color = isLight ? "#222" : "#fff";
  }
</script>

</body>
</html>
